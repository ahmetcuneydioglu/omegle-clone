<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Yeni Nesil Chat</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-black text-white min-h-screen overflow-hidden">

<!-- Arka Kamera Preview -->
<video
  id="bgPreview"
  autoplay
  muted
  playsinline
  class="fixed inset-0 w-full h-full object-cover blur-md brightness-50 scale-105 -z-10 hidden"
></video>


<!-- ANA KAPSAYICI -->
<div class="relative min-h-screen flex flex-col">

  <!-- HEADER -->
  <div class="px-4 pt-4 flex justify-between items-center">
    <button id="themeBtn" class="text-xl">ğŸŒ™</button>


    <h1 class="text-xl font-bold">ğŸ¥ Yeni Nesil Chat</h1>

    <p id="online" class="text-green-400 text-sm">
      â— 0 Online
    </p>

  </div>


  <!-- MERKEZ -->
  <div class="flex-1 flex flex-col justify-center items-center px-4 text-center">

    <!-- LOGO -->
    <h2 class="text-5xl font-extrabold mb-6 tracking-wide">
      OmeChat
    </h2>


    <!-- BUTONLAR -->
    <div class="w-full max-w-md grid grid-cols-2 gap-3 mb-6">

      <button
        id="btnMe"
        class="bg-white/10 backdrop-blur border border-white/20 py-3 rounded-xl font-semibold text-lg"
      >
        ğŸ‘¤ BEN
      </button>

      <button
        id="btnCountry"
        class="bg-white/10 backdrop-blur border border-white/20 py-3 rounded-xl font-semibold text-lg"
      >
        ğŸŒ ÃœLKE
      </button>

    </div>


    <!-- STATUS -->
    <p
      id="status"
      class="text-gray-300 text-sm mb-4"
    >
      BaÄŸlanÄ±yor...
    </p>

  </div>


  <!-- VIDEO ALANI -->
  <div
    id="videoArea"
    class="hidden fixed inset-0 bg-black z-30 flex"
  >

    <video
      id="remoteVideo"
      autoplay
      playsinline
      class="w-full h-full object-cover"
    ></video>

    <video
      id="localVideo"
      autoplay
      muted
      playsinline
      class="w-28 h-40 object-cover rounded-xl absolute top-4 right-4 border border-white/30"
    ></video>

  </div>


  <!-- CHAT (video Ã¼stÃ¼ne alt panel) -->
<div
  id="chat"
  class="hidden fixed inset-0 z-40 flex flex-col justify-end p-3"
>
  <!-- Mesajlar -->
  <div
    id="messages"
    class="max-h-[35vh] overflow-y-auto text-sm space-y-1 mb-2 bg-black/40 backdrop-blur rounded-xl p-2"
  ></div>

  <!-- Kontroller -->
  <div id="controls" class="flex justify-around mb-2 bg-black/40 backdrop-blur rounded-xl py-2">
    <button id="toggleMic" class="text-xl">ğŸ¤</button>
    <button id="toggleCam" class="text-xl">ğŸ“·</button>
    <button id="pauseBtn" class="text-xl">â¸ï¸</button>
    <button id="reportBtn" class="text-xl text-red-500">ğŸš¨</button>
    <button id="flipCam" class="text-xl">ğŸ”„</button>

  </div>

  <!-- Input -->
  <div class="flex gap-2">
    <input
      id="input"
      type="text"
      placeholder="Mesaj yaz..."
      class="flex-1 bg-gray-800 rounded-xl px-3 py-2 outline-none"
    />
    <button id="send" class="bg-blue-600 px-4 rounded-xl">â¤</button>
    <button id="skip" class="bg-blue-600 px-4 rounded-xl">Yeni</button>
  </div>
</div>



  <!-- ALT BAR -->
  <div
    class="fixed bottom-0 left-0 right-0 bg-black/60 backdrop-blur border-t border-white/10 flex justify-around py-2 z-20"
  >

    <button class="text-xl">ğŸ‘¤</button>
    <button class="text-xl">ğŸ”</button>
    <button class="text-xl text-green-400">ğŸ“º</button>
    <button class="text-xl">âœ‰ï¸</button>
    <button class="text-xl">â­</button>

  </div>

</div>


<!-- Socket -->
<script src="/socket.io/socket.io.js"></script>

<!-- App -->
<script src="/script.js"></script>


<script>
/* Arka plan kamera preview */
async function startPreview(){

  try{

    const stream = await navigator.mediaDevices.getUserMedia({
      video:true,
      audio:false
    });

    const bg = document.getElementById("bgPreview");

    bg.srcObject = stream;
    bg.classList.remove("hidden");

  }catch(e){
    console.log("Preview yok:",e);
  }

}

startPreview();
</script>


</body>
</html>
